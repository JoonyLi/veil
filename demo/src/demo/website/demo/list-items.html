<div id="list-items-widget" data-refresh-url="/resources/items">
    <span>Count: {{ items_count }}</span>
    <ul>
        {% for item in items %}
        {{ widgets.list_items_element(item) }}
        {% endfor %}
    </ul>
</div>

{% block inline_javascript %}
<script type="text/javascript">
    $(document).ready(function () {
        veil.event.handle(veil.event.EVENT_ITEM_CREATED, function () {
            veil.widget.refresh($('#list-items-widget'));
        });
    });
</script>
{% endblock %}

{% block inline_stylesheet %}
<style type="text/css">
    #list-items-widget {
        margin: 8px;
    }
</style>
{% endblock %}